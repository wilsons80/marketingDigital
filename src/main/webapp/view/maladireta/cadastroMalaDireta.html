<meta charset="UTF-8">

<div style="margin-top:20px" ng-controller="formMalaDiretaController as vm">
    
	<div ng-show="vm.formMalaDireta.$dirty" style="margin-bottom: 40px;">
		<span ng-show="vm.formMalaDireta.nomeMadaDireta.$error.required">
			<div class="alert alert-danger" >
			    O nome da Faixa é obrigatório <br/>
			</div>
		</span>
		<span ng-show="vm.formMalaDireta.faixaRendaFinal.$error.pattern">
			<div class="alert alert-danger" >
			    A Faixa de Renda Final deve conter apenas valores numéricos no formado: 999999,99 <br/>
			</div>
		</span>
		<span ng-show="vm.formMalaDireta.faixaRendaInicial.$error.pattern">
			<div class="alert alert-danger" >
                A Faixa de Renda Inicial deve conter apenas valores numéricos no formado: 999999,99
			</div>
           </span>				
	</div>
	
	<div class="headerPainel">
		<div class="conteudoHeaderPainel">
			Cadastro de Mala Direta <br>
		</div>
		<div class="conteudoPainel">
			<form name="vm.formMalaDireta">
				<table style="width: 100%; text-align: left; margin-top: 15px;">
				    <th>
				    	<tr>
				    		<td>Nome da Mala Direta</td>
				    		<td>Faixa de Renda Inicial</td>
				    		<td>Faixa de Renda Final</td>
				    	</tr>
				    </th>
					<tr>
						<td><input type="text" 
						           ng-model="vm.malaDireta.nome" 
						           name="nomeMadaDireta" 
						           style="width: 90%"
						           ng-maxlength=250
						           ng-required="true"></td>
						
						<td><input type="text" 
						           ng-model="vm.malaDireta.faixaRendaInicial" 
						           name="faixaRendaInicial" 
						           style="width: 90%"
						           ng-maxlength=9
						           placeholder="999999,99"
						           ng-pattern="/^[0-9]{0,6},[0-9]{2}$/"
						           ng-required="true"></td>
						           
						<td><input type="text" 
						           ng-model="vm.malaDireta.faixaRendaFinal" 
						           name="faixaRendaFinal" 
						           style="width: 90%"
						           ng-maxlength=9
						           placeholder="999999,99"
						           ng-pattern="/^[0-9]{0,6},[0-9]{2}$/"
						           ng-required="true"></td>
					</tr>
				</table>
				
			</form>
			
			<button class="btn btn-success"
			        style="margin-left: 40%; margin-top: 20px;"
			        ng-click="vm.cadastrarMalaDireta(vm.malaDireta)"
			        ng-disabled="vm.formMalaDireta.$invalid">Cadastrar</button>
			
		</div>
	</div>
	
	<div style="padding-top: 100px" ng-if="false">
		{{"Válido: " + vm.formMalaDireta.$valid}} <br>
		{{"Inválido: " + vm.formMalaDireta.$invalid}}<br>
		{{"Pattern: " + vm.formMalaDireta.faixaRendaFinal.$error.pattern}}<br>
		{{"Pattern: " + vm.formMalaDireta.$error.pattern}}<br>
		
		<!-- $pristine (nunca utilizado) e $dirty (Já foi utilizado) -->
        <!-- Verifica se um formulário ou campo já foi utilizado alguma vez -->
		
		pristine: {{vm.formMalaDireta.$pristine}}<br>
		dirty: {{vm.formMalaDireta.$dirty}}<br>
	    Mala Diretas: {{malaDiretas}}
	</div>	
</div>

